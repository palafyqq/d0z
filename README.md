composer create-project laravel/laravel название-проекта создать проект

php artisan make:model Employee -m 

Эта команда создаст модель Employee в каталоге app\Models и файл миграции для таблицы employees.
Миграция будет находиться в каталоге database\migrations и будет иметь имя, начинающееся с текущей даты и времени.
После выполнения этой команды вы сможете найти файл модели Employee в каталоге app\Models, а файл миграции в каталоге database\migrations.
Порядок определяется отношениями между таблицами.

php artisan migrate Это применит все созданные миграции, которые еще не были применены к базе данных.

Создание модели

php artisan make:model Product

Эта команда создаст новый класс модели Product в каталоге app/Models.
 Пространство имен: объявляется пространство имен App\Models. Это указывает на то, что класс Dishes находится в пространстве имен App\Models. В Laravel модели обычно размещаются в каталоге pp\Models, поэтому пространство имен соответствует этому расположению.
 Использование трейта `HasFactory`: Модель использует трейт HasFactory, который предоставляет удобные методы для создания фабрик (фабрик данных) для данной модели. Это позволяет создавать тестовые данные для модели с помощью фабрик.
Использование трейта SoftDeletes: Модель также использует трейт SoftDeletes, который добавляет поддержку мягкого удаления (soft delete). Это означает, что записи в таблице, связанной с этой моделью, не удаляются фактически из базы данных, а помечаются как удаленные с помощью столбца deleted_at.
 Защищенное (guarded) свойство: Свойство $guarded определяет, какие атрибуты модели не могут быть массово заполнены. Значение false указывает на то, что все атрибуты модели могут быть массово заполнены. В Laravel есть также свойство $fillable, которое определяет атрибуты, которые могут быть массово заполнены.
 Наследование от Model: Класс Dishes наследуется от базового класса Model. Этот класс предоставляет множество методов для работы с базой данных, таких как создание, чтение, обновление и удаление записей, а также методы для выполнения запросов к базе данных.
Таким образом, модель Dishes в Laravel представляет собой класс, который обеспечивает доступ к таблице базы данных, связанной с блюдами, и использует функциональность мягкого удаления и создание фабрик.

Контроллеры в Laravel - это классы, которые обрабатывают входящие HTTP-запросы и возвращают HTTP-ответы. Они являются промежуточным звеном между маршрутами (routes) и логикой приложения.

php artisan make:controller ProductController


php artisan migrate:fresh перезаписать таблицы в бд

связи
Один-к-одному
Используй hasOne() на стороне владельца.
Используй belongsTo() на стороне того, кто содержит внешний ключ.
(в скобочках __::class, Fk, PK)

Один-ко-многим
hasMany() — тот, у кого много.
belongsTo() — тот, кто принадлежит.
(в скобочках __::class, Fk, PK)

Многие-ко-многим
belongsToMany().
belongsToMany().

return $this->belongsToMany(Role::class, '11', '22', '33');

'11'
Это название промежуточной таблицы, которая соединяет пользователей и роли.
'22'
Это внешний ключ, ссылающийся на текущую модель (в которой ты пишешь этот метод).
'33'
Это внешний ключ, ссылающийся на связанную модель.

22 и 33 меняется в зависимости от таблицы


DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=название
DB_USERNAME=root
DB_PASSWORD=Study-2@22


composer require laravel/ui
php artisan ui:auth
php artisan make:middleware CheckAge

в web.php создаем маршруты для авторизации

php artisan make:policy EmployeePolicy --model=Employee
